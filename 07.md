# HTML Accessibility (A11Y) & ARIA Cheatsheet

## Basic A11Y Principles

**WCAG Four Principles:**
- **Perceivable**: Information must be presentable in ways users can perceive
- **Operable**: Interface components must be operable by all users
- **Understandable**: Information and UI operation must be understandable
- **Robust**: Content must be robust enough for various assistive technologies

**Key Guidelines:**
- Always use semantic HTML before adding ARIA
- WCAG 2.1 AA: 4.5:1 contrast ratio for normal text, 3:1 for large text
- Never rely on color alone to convey information
- All interactive elements must be keyboard accessible
- Provide visible focus indicators

## ARIA Labels and Descriptions

### aria-label
Provides accessible name when visible text isn't sufficient
```html
<button aria-label="Close dialog">√ó</button>
<input type="search" aria-label="Search products" placeholder="Enter keyword">
```

### aria-labelledby
References other elements that label this element
```html
<h2 id="settings-title">Account Settings</h2>
<div role="group" aria-labelledby="settings-title">
  <!-- Settings content -->
</div>
```

### aria-describedby
References elements that provide additional description
```html
<input type="password" aria-describedby="pwd-help">
<div id="pwd-help">Password must be at least 8 characters</div>

<!-- Multiple references -->
<input type="email" aria-labelledby="email-label" aria-describedby="email-help email-error">
```

## ARIA Hidden

### aria-hidden="true"
Hides decorative elements from screen readers
```html
<span aria-hidden="true">üëç</span> <!-- Decorative emoji -->
<i class="icon-star" aria-hidden="true"></i> <!-- Decorative icon -->

<!-- Hide entire sections of decorative content -->
<div class="background-decoration" aria-hidden="true">
  <img src="decorative-pattern.svg" alt="">
</div>
```

**Important**: Don't use aria-hidden on focusable elements

## ARIA Expanded

### aria-expanded
Indicates if collapsible element is expanded
```html
<!-- Collapsed state -->
<button aria-expanded="false" aria-controls="menu">Menu</button>
<ul id="menu" hidden>
  <li><a href="/home">Home</a></li>
  <li><a href="/about">About</a></li>
</ul>

<!-- Expanded state -->
<button aria-expanded="true" aria-controls="menu">Menu</button>
<ul id="menu">
  <li><a href="/home">Home</a></li>
  <li><a href="/about">About</a></li>
</ul>

<!-- Dropdown example -->
<button aria-expanded="false" aria-haspopup="true" aria-controls="dropdown">
  Options
</button>
<div id="dropdown" role="menu" hidden>
  <button role="menuitem">Edit</button>
  <button role="menuitem">Delete</button>
</div>
```

## ARIA Live Regions

### aria-live
Announces dynamic content changes to screen readers
```html
<!-- Polite announcements (wait for user to finish current activity) -->
<div aria-live="polite" id="status"></div>

<!-- Assertive announcements (interrupt immediately for urgent updates) -->
<div aria-live="assertive" id="errors"></div>

<!-- Common live region roles -->
<div role="status" aria-live="polite">Changes saved</div>
<div role="alert" aria-live="assertive">Error occurred</div>
<div role="log" aria-live="polite">Activity log updates</div>

<!-- aria-atomic: Announce entire region or just changes -->
<div aria-live="polite" aria-atomic="true" id="timer">
  Time remaining: 5:00
</div>
```

## Role Attribute

### Basic Roles
```html
<!-- Button role -->
<div role="button" tabindex="0" onclick="handleClick()">
  Custom Button
</div>

<!-- Navigation roles -->
<div role="navigation">Site navigation</div>
<div role="main">Main content</div>
<div role="banner">Site header</div>
<div role="contentinfo">Footer</div>

<!-- Interactive roles -->
<div role="tab" tabindex="0" aria-selected="true">Tab 1</div>
<div role="tabpanel" aria-labelledby="tab1">Tab content</div>
<div role="dialog" aria-modal="true" aria-labelledby="dialog-title">Modal content</div>

<!-- List roles -->
<div role="list">
  <div role="listitem">Item 1</div>
  <div role="listitem">Item 2</div>
</div>
```

## ARIA Landmarks and Navigation

### Landmark Roles
```html
<header role="banner">
  <nav role="navigation" aria-label="Main navigation">
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/about">About</a></li>
    </ul>
  </nav>
</header>

<main role="main">
  <article role="article">
    <h1>Article Title</h1>
    <section role="region" aria-labelledby="section1">
      <h2 id="section1">Section Title</h2>
      <p>Content</p>
    </section>
  </article>
  
  <aside role="complementary">
    <h2>Related Links</h2>
    <ul>
      <li><a href="/related1">Related Article 1</a></li>
    </ul>
  </aside>
</main>

<footer role="contentinfo">
  <p>&copy; 2024 Company Name</p>
</footer>

<!-- Multiple landmarks need labels -->
<nav aria-label="Main navigation">Main menu</nav>
<nav aria-label="Breadcrumb navigation">Breadcrumbs</nav>
<nav aria-label="Pagination navigation">Page numbers</nav>

<!-- Search landmark -->
<div role="search">
  <label for="search-input">Search</label>
  <input type="search" id="search-input">
  <button type="submit">Search</button>
</div>
```

## Additional ARIA Attributes

### Form and Input States
```html
<!-- Required fields -->
<input type="email" aria-required="true" aria-describedby="email-error">

<!-- Validation state -->
<input type="email" aria-invalid="true" aria-describedby="email-error">
<div id="email-error">Please enter a valid email address</div>

<!-- Disabled state -->
<div role="button" aria-disabled="true" tabindex="-1">Disabled Button</div>

<!-- Toggle buttons -->
<button aria-pressed="false" onclick="togglePressed(this)">Toggle</button>

<!-- Custom checkboxes -->
<div role="checkbox" aria-checked="false" tabindex="0">Custom checkbox</div>

<!-- Selection states -->
<div role="tab" aria-selected="true" tabindex="0">Active Tab</div>
<div role="option" aria-selected="false" tabindex="-1">List Option</div>

<!-- Current item indicator -->
<nav>
  <a href="/home">Home</a>
  <a href="/products" aria-current="page">Products</a>
  <a href="/contact">Contact</a>
</nav>
```

### Relationship Attributes
```html
<!-- Ownership relationship -->
<input type="text" aria-owns="suggestions" aria-expanded="true">
<ul id="suggestions" role="listbox">
  <li role="option">Suggestion 1</li>
  <li role="option">Suggestion 2</li>
</ul>

<!-- Control relationship -->
<button aria-controls="panel" aria-expanded="false">Show Panel</button>
<div id="panel" hidden>Panel content</div>
```

## Common ARIA Patterns

### Modal Dialog
```html
<div role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-desc">
  <h2 id="modal-title">Confirm Action</h2>
  <p id="modal-desc">Are you sure you want to delete this item?</p>
  <button>Delete</button>
  <button>Cancel</button>
</div>
```

### Tab Interface
```html
<div role="tablist" aria-label="Account Settings">
  <button role="tab" aria-selected="true" aria-controls="panel1" id="tab1">Profile</button>
  <button role="tab" aria-selected="false" aria-controls="panel2" id="tab2">Security</button>
</div>
<div role="tabpanel" aria-labelledby="tab1" id="panel1">Profile content</div>
<div role="tabpanel" aria-labelledby="tab2" id="panel2" hidden>Security content</div>
```

### Combobox (Autocomplete)
```html
<label for="combo">Choose a fruit</label>
<input type="text" role="combobox" aria-expanded="false" aria-autocomplete="list" 
       aria-owns="listbox" id="combo">
<ul role="listbox" id="listbox" hidden>
  <li role="option">Apple</li>
  <li role="option">Banana</li>
  <li role="option">Cherry</li>
</ul>
```

### Tooltip
```html
<button aria-describedby="tooltip">Help</button>
<div role="tooltip" id="tooltip" hidden>This button provides help information</div>
```

## Alt Text for Images

### Descriptive Alt Text
```html
<img src="chart.png" alt="Sales increased 25% from Q3 to Q4 2024, reaching $2.5 million">
<img src="team-photo.jpg" alt="Five team members smiling in conference room">
```

### Functional Alt Text
```html
<a href="contact.html">
  <img src="phone-icon.png" alt="Contact us by phone">
</a>

<button type="submit">
  <img src="search-icon.svg" alt="Search">
</button>
```

### Decorative Images
```html
<img src="decorative-border.png" alt="" role="presentation">
<img src="spacer.gif" alt="">
```

### Complex Images
```html
<img src="complex-chart.png" 
     alt="Monthly revenue chart" 
     aria-describedby="chart-description">
<div id="chart-description">
  <p>Chart shows monthly revenue from January to December 2024. 
     Revenue started at $100k in January, peaked at $350k in July, 
     and ended at $280k in December.</p>
</div>

<!-- Images with captions -->
<figure>
  <img src="sunset.jpg" alt="Golden sunset over mountain peaks with orange sky">
  <figcaption>Sunset view from Mount Wilson, captured during our hiking expedition</figcaption>
</figure>

<!-- Background images with text alternatives -->
<div class="hero-banner" 
     style="background-image: url('hero.jpg')" 
     role="img" 
     aria-label="City skyline at sunset with modern skyscrapers">
  <h1>Welcome to Our City</h1>
</div>
```

## Proper Heading Hierarchy

### Correct Structure
```html
<h1>Main Page Title</h1>
  <h2>Section Title</h2>
    <h3>Subsection Title</h3>
      <h4>Sub-subsection Title</h4>
        <h5>Minor Heading</h5>
          <h6>Smallest Heading</h6>
```

### Article Structure
```html
<article>
  <h1>How to Build Accessible Websites</h1>
  
  <h2>Introduction</h2>
  <p>Accessibility is crucial for inclusive web design...</p>
  
  <h2>Key Principles</h2>
  
    <h3>Perceivable</h3>
    <p>Information must be presentable in ways users can perceive...</p>
    
    <h3>Operable</h3>
    <p>Interface components must be operable...</p>
      
      <h4>Keyboard Navigation</h4>
      <p>All functionality must be available via keyboard...</p>
      
      <h4>Timing Controls</h4>
      <p>Users need control over time-sensitive content...</p>
    
    <h3>Understandable</h3>
    <p>Information and UI operation must be understandable...</p>
  
  <h2>Implementation Tips</h2>
  <p>Here are practical steps to implement accessibility...</p>
</article>
```

### Multiple Sections
```html
<main>
  <h1>Products Catalog</h1>
  
  <section>
    <h2>Electronics</h2>
    
    <article>
      <h3>Smartphones</h3>
      
      <h4>iPhone 15</h4>
      <p>Latest iPhone with advanced features...</p>
      
      <h4>Samsung Galaxy</h4>
      <p>Android phone with premium design...</p>
    </article>
  </section>
  
  <section>
    <h2>Clothing</h2>
    
    <article>
      <h3>Men's Shirts</h3>
      <p>Comfortable and stylish shirts...</p>
    </article>
  </section>
</main>
```

## Keyboard Navigation Support

### Natural Tab Order
```html
<form>
  <label for="name">Name:</label>
  <input type="text" id="name" tabindex="0">
  
  <label for="email">Email:</label>
  <input type="email" id="email" tabindex="0">
  
  <button type="submit" tabindex="0">Submit</button>
</form>
```

### Custom Interactive Elements
```html
<div class="custom-button" 
     tabindex="0" 
     role="button"
     onclick="performAction()"
     onkeydown="handleKeyPress(event)">
  Custom Button
</div>

<script>
function handleKeyPress(event) {
  if (event.key === 'Enter' || event.key === ' ') {
    event.preventDefault();
    performAction();
  }
}
</script>
```

### Arrow Key Navigation
```html
<ul role="listbox" 
    aria-label="Choose a color"
    onkeydown="handleListNavigation(event)">
  <li role="option" tabindex="0" aria-selected="false">Red</li>
  <li role="option" tabindex="-1" aria-selected="false">Blue</li>
  <li role="option" tabindex="-1" aria-selected="true">Green</li>
  <li role="option" tabindex="-1" aria-selected="false">Yellow</li>
</ul>
```

## Focus Management

### Focus Indicators (CSS)
```css
button:focus,
input:focus,
a:focus {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}

.custom-focus:focus {
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.3);
  outline: none;
}
```

### Modal Focus Management
```html
<button onclick="openModal()">Open Modal</button>

<div id="modal" class="modal" hidden>
  <div class="modal-content">
    <h2>Modal Title</h2>
    <p>Modal content here...</p>
    <button id="modal-close" onclick="closeModal()">Close</button>
  </div>
</div>

<script>
function openModal() {
  const modal = document.getElementById('modal');
  const closeBtn = document.getElementById('modal-close');
  
  modal.hidden = false;
  closeBtn.focus();
  modal.addEventListener('keydown', trapFocus);
}

function closeModal() {
  const modal = document.getElementById('modal');
  
  modal.hidden = true;
  document.querySelector('button[onclick="openModal()"]').focus();
  modal.removeEventListener('keydown', trapFocus);
}

function trapFocus(event) {
  if (event.key === 'Tab') {
    const focusableElements = event.currentTarget.querySelectorAll(
      'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
    );
    const firstElement = focusableElements[0];
    const lastElement = focusableElements[focusableElements.length - 1];
    
    if (event.shiftKey && document.activeElement === firstElement) {
      event.preventDefault();
      lastElement.focus();
    } else if (!event.shiftKey && document.activeElement === lastElement) {
      event.preventDefault();
      firstElement.focus();
    }
  }
}
</script>
```

## Color Contrast Considerations

### High Contrast Text (CSS)
```css
/* WCAG AA Compliant (4.5:1 ratio minimum) */
.good-contrast {
  color: #000000;
  background-color: #ffffff;
}

.dark-theme {
  color: #ffffff;
  background-color: #121212;
}

/* Accessible link colors */
.accessible-links a {
  color: #0066cc;
}

.accessible-links a:visited {
  color: #800080;
}

.accessible-links a:hover,
.accessible-links a:focus {
  color: #004499;
  text-decoration: underline;
}
```

### Status Messages
```html
<!-- Error messages -->
<div class="error-message" style="color: #d32f2f; background-color: #fff;">
  <strong>Error:</strong> Please correct the highlighted fields.
</div>

<!-- Success messages -->
<div class="success-message" style="color: #2e7d2e; background-color: #fff;">
  <strong>Success:</strong> Your form has been submitted successfully.
</div>

<!-- Warning messages -->
<div class="warning-message" style="color: #f57c00; background-color: #fff;">
  <strong>Warning:</strong> Some information may be outdated.
</div>
```

## Screen Reader Compatibility

### Screen Reader Only Content
```css
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
```

```html
<h2>
  Products 
  <span class="sr-only">(5 items found)</span>
</h2>

<!-- Descriptive link text -->
<a href="report.pdf">
  Download Annual Report
  <span class="sr-only">(PDF, 2.3 MB)</span>
</a>
```

### Table Headers
```html
<table>
  <caption>Quarterly Sales Data</caption>
  <thead>
    <tr>
      <th scope="col">Quarter</th>
      <th scope="col">Sales ($)</th>
      <th scope="col">Growth (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">Q1 2024</th>
      <td>$150,000</td>
      <td>+12%</td>
    </tr>
    <tr>
      <th scope="row">Q2 2024</th>
      <td>$168,000</td>
      <td>+8%</td>
    </tr>
  </tbody>
</table>
```

### Live Regions
```html
<div aria-live="polite" id="status-updates">
  <p>Status updates will appear here</p>
</div>

<div aria-live="assertive" id="urgent-alerts">
  <!-- Urgent messages appear here -->
</div>
```

## Form Accessibility

### Proper Labels
```html
<form>
  <!-- Explicit labels -->
  <label for="firstName">First Name:</label>
  <input type="text" id="firstName" name="firstName" required>
  
  <!-- Implicit labels -->
  <label>
    Last Name:
    <input type="text" name="lastName" required>
  </label>
</form>
```

### Radio Button Groups
```html
<fieldset>
  <legend>Preferred Contact Method</legend>
  
  <input type="radio" id="contact-email" name="contact" value="email">
  <label for="contact-email">Email</label>
  
  <input type="radio" id="contact-phone" name="contact" value="phone">
  <label for="contact-phone">Phone</label>
  
  <input type="radio" id="contact-mail" name="contact" value="mail">
  <label for="contact-mail">Mail</label>
</fieldset>
```

### Checkbox Groups
```html
<fieldset>
  <legend>Newsletter Subscriptions</legend>
  
  <input type="checkbox" id="news-tech" name="newsletters" value="tech">
  <label for="news-tech">Technology News</label>
  
  <input type="checkbox" id="news-business" name="newsletters" value="business">
  <label for="news-business">Business Updates</label>
  
  <input type="checkbox" id="news-sports" name="newsletters" value="sports">
  <label for="news-sports">Sports News</label>
</fieldset>
```

### Error Messages
```html
<form novalidate>
  <div class="form-group">
    <label for="email-input">Email Address</label>
    <input type="email" id="email-input" 
           aria-describedby="email-error" 
           aria-invalid="false">
    <div id="email-error" class="error-message" hidden>
      Please enter a valid email address
    </div>
  </div>
  
  <div class="form-group">
    <label for="password-input">Password</label>
    <input type="password" id="password-input" 
           aria-describedby="password-requirements password-error"
           aria-invalid="false">
    <div id="password-requirements">
      Password must be at least 8 characters long
    </div>
    <div id="password-error" class="error-message" hidden>
      Password does not meet requirements
    </div>
  </div>
</form>
```

### Required Field Indicators
```html
<form>
  <div class="form-instructions">
    <p>Fields marked with <span class="required-indicator">*</span> are required.</p>
  </div>
  
  <label for="required-field">
    Name <span class="required-indicator" aria-label="required">*</span>
  </label>
  <input type="text" id="required-field" required aria-required="true">
  
  <label for="optional-field">Company (optional)</label>
  <input type="text" id="optional-field">
</form>
```

## Skip Navigation Links

### Basic Skip Links
```html
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <a href="#navigation" class="skip-link">Skip to navigation</a>
  <a href="#search" class="skip-link">Skip to search</a>
  
  <style>
  .skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: #000;
    color: #fff;
    padding: 8px;
    text-decoration: none;
    z-index: 1000;
  }
  
  .skip-link:focus {
    top: 6px;
  }
  </style>
  
  <header>
    <nav id="navigation" aria-label="Main navigation">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/products">Products</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </nav>
    
    <div id="search">
      <label for="search-input">Search</label>
      <input type="search" id="search-input" placeholder="Search our site">
      <button type="submit">Search</button>
    </div>
  </header>
  
  <main id="main-content" tabindex="-1">
    <h1>Welcome to Our Website</h1>
    <p>Main content starts here...</p>
  </main>
</body>
```

### Form Skip Links
```html
<form>
  <div class="skip-links">
    <a href="#personal-info" class="skip-link">Skip to Personal Information</a>
    <a href="#address-info" class="skip-link">Skip to Address</a>
    <a href="#payment-info" class="skip-link">Skip to Payment</a>
    <a href="#form-submit" class="skip-link">Skip to Submit</a>
  </div>
  
  <fieldset id="personal-info">
    <legend>Personal Information</legend>
    <!-- Personal info fields -->
  </fieldset>
  
  <fieldset id="address-info">
    <legend>Address Information</legend>
    <!-- Address fields -->
  </fieldset>
  
  <fieldset id="payment-info">
    <legend>Payment Information</legend>
    <!-- Payment fields -->
  </fieldset>
  
  <div id="form-submit">
    <button type="submit">Submit Order</button>
  </div>
</form>
```

## Testing and Tools

### Recommended Testing Tools
- **axe-core browser extension**
- **WAVE Web Accessibility Evaluator**
- **Lighthouse accessibility audit**
- **Screen readers** (NVDA, JAWS, VoiceOver)
- **Keyboard navigation testing**
- **Color contrast analyzers**

### Common Mistakes to Avoid
- Using ARIA when semantic HTML would work
- aria-hidden on focusable elements
- Missing aria-expanded on collapsible triggers
- Incorrect or missing roles
- aria-label on non-interactive elements
- Multiple h1 elements without proper structure
- Missing focus management in SPAs
- Auto-playing media without controls
- Form fields without labels
- Low color contrast ratios

### Key Reminders
- ARIA modifies the accessibility tree, not visual appearance
- Always test with actual assistive technologies
- Semantic HTML first, ARIA second
- Focus management is crucial for dynamic content
